---
id: managing-dependencies
title: Managing Dependencies
sidebar_label: Managing Dependencies
---

Generally there are two approaches to working with dependencies in the NPM ecosystem:

1. **Using a lock file** - if a `package-lock.json` is present, the exact dependency versions defined in that lock file will be downloaded when you `npm install`.  
   The `package-lock.json` will be committed to source-control and will affect all developers working on the project and the CI builds.
2. **Not using a lock file** - if `package-lock.json` is not present, whenever you do a fresh `npm install` the latest versions of your dependencies will be downloaded from the npm registry.

This is a high-level explanation. For more details you can read up on the [NPM documentation](https://docs.npmjs.com/files/package-locks)

## What are the advantages\disadvantages of each approach?

Using a lockfile avoid bugs because of changes made in 3rd-party dependencies and helps ensure reproducible builds.  
Not having a lockfile reduces the need to remember to update the lockfile and reason about the changes, and dealing with lockfile conflicts.

## What is the default\preferred approach?

Overall the default NPM behavior is to use a lock file, and one is generated automatically when you run `npm install` for the first time.  
However for projects generated by `create-yoshi-app` a `package-lock.json` will not be generated.  
This is because in Wix it's common to depend on other Wix packages that update often (on every commit), therefore you would need to update your `package-lock.json` very often and conflicts are likely.

## How to start using a lockfile?

An `.npmrc` (NPM configuration file) in the root folder instructs NPM whether to generate a lockfile or not using the `package-lock=false` configuration.  
Simply delete the `.npmrc` file generated by `create-yoshi-app` to start using a lockfile. The next time you run `npm install` a lockfile will be created and you should commit it.
